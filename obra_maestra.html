<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>P√°gina Rom√°ntica Interactiva</title>
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
<style>
  body {
    margin: 0;
    overflow: hidden;
    background-color: #FFC0CB;
    font-family: Arial, sans-serif;
    height: 300vh;
  }

  .corazon {
    position: absolute;
    width: 20px;
    height: 20px;
    background-color: red;
    transform: rotate(-45deg);
    animation: caer linear forwards;
    cursor: pointer;
  }

  .corazon::before, .corazon::after {
    content: "";
    position: absolute;
    width: 20px;
    height: 20px;
    background-color: red;
    border-radius: 50%;
  }
  .corazon::before {
    top: -10px;
    left: 0;
  }
  .corazon::after {
    left: 10px;
    top: 0;
  }

  @keyframes caer {
    to {
      transform: translateY(110vh) rotate(-45deg);
      opacity: 0.8;
    }
  }

  @keyframes burst {
    to {
      transform: scale(2) rotate(-45deg);
      opacity: 0;
    }
  }

  .frase {
    position: absolute;
    background: rgba(255,255,255,0.8);
    padding: 6px 10px;
    border-radius: 10px;
    font-size: 14px;
    color: #800000;
    white-space: nowrap;
    pointer-events: none;
    animation: fadeOut 99s forwards;
  }

  @keyframes fadeOut {
    0% { opacity: 1; transform: translateY(0); }
    100% { opacity: 0; transform: translateY(-40px); }
  }

  .poema-container {
 position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  backdrop-filter: blur(10px);
  background-color: rgba(255, 255, 255, 0.3);
  padding: 40px;
  border-radius: 20px;
  z-index: 1000;
  width: 60%;
  max-height: 70vh;   /* üîπ l√≠mite de altura */
  overflow-y: auto;   /* üîπ scroll vertical si se desborda */
  text-align: center;
  box-shadow: 0 0 30px rgba(255, 3, 3, 0.6);
  }

  .poema {
    font-family: 'Great Vibes', cursive;
    font-size: 28px;
    color: #800000;
    line-height: 1.6;
    white-space: pre-wrap;
    text-align: center;
  }

  /* Cursor parpadeante */
  .cursor {
    display: inline-block;
    width: 8px;
    background: #800000;
    margin-left: 2px;
    animation: blink 0.8s infinite;
  }

  @keyframes blink {
    0%, 50% { opacity: 1; }
    50.1%, 100% { opacity: 0; }
  }
</style>
</head>
<body>

<div class="poema-container">
    <h1>Cuando Llegaste T√∫</h1>
    <div id="poema" class="poema"></div><span class="cursor"></span>
</div>

<!-- Canciones -->
<audio id="cancion1" src="ssstik.io_1755169744289.mp3"></audio>
<audio id="cancion2" src="ssstik.io_1755169888075.mp3"></audio>
<audio id="cancion3" src="ssstik.io_1755169922966.mp3"></audio>
<audio id="cancion4" src="ssstik.io_1755169991300.mp3"></audio>
<audio id="cancion5" src="ssstik.io_1755170089656.mp3"></audio>

<!-- Sonido m√°quina de escribir -->
<audio id="type-sound" src="https://www.soundjay.com/mechanical/typewriter-key-1.mp3" preload="auto"></audio>

<script>
const frases = [
  "Tu sonrisa ilumina mi universo",
  "Cada latido me lleva a ti",
  "Eres mi raz√≥n de cada amanecer",
  "El amor eres t√∫ en cada forma",
  "Contigo, todo tiene sentido"
];

const colores = ["#000000", "#Ff0500", "#FFDAB9", "#E6E6FA", "#FFF0F5"];
const canciones = ["cancion1", "cancion2", "cancion3", "cancion4", "cancion5"];

// Guardamos todos los elementos <audio> para poder detenerlos f√°cilmente
const audios = canciones.map(id => document.getElementById(id));

function detenerTodasLasCanciones() {
  audios.forEach(audio => {
    audio.pause();
    audio.currentTime = 0;
  });
}

function crearCorazon() {
  const corazon = document.createElement('div');
  corazon.classList.add('corazon');
  corazon.style.left = Math.random() * window.innerWidth + "px";
  const duracion = Math.random() * 5 + 5;
  corazon.style.animationDuration = duracion + "s";
  corazon.style.backgroundColor = "red";
  document.body.appendChild(corazon);

  corazon.addEventListener('click', (e) => {
    e.stopPropagation();
    corazon.style.animation = "burst 0.5s forwards";

    // Mostrar frase con z-index alto
    const frase = document.createElement('div');
    frase.classList.add('frase');
    frase.style.zIndex = "9999"; // Siempre al frente
    frase.innerText = frases[Math.floor(Math.random() * frases.length)];
    frase.style.left = e.pageX + "px";
    frase.style.top = e.pageY + "px";
    document.body.appendChild(frase);
    setTimeout(() => frase.remove(), 2000);

    // Cambiar color de fondo
    document.body.style.backgroundColor = colores[Math.floor(Math.random() * colores.length)];

    // Seleccionar y reproducir canci√≥n
    detenerTodasLasCanciones();
    const seleccionada = document.getElementById(canciones[Math.floor(Math.random() * canciones.length)]);
    if (seleccionada) {
      seleccionada.play();
    }

    setTimeout(() => corazon.remove(), 500);
  });

  setTimeout(() => corazon.remove(), duracion * 1000);
}

setInterval(crearCorazon, 500);

/* --- EFECTO DE ESCRITURA AUTOM√ÅTICA --- */
const poemaTexto = `Un d√≠a,
cuando cre√≠a que no necesitaba a nadie,
jugaba a la felicidad
como un actor sin p√∫blico,
escondiendo cicatrices
tras la m√°scara de una risa hueca.

El pasado,
con su voz de hierro,
me hab√≠a ense√±ado a fingir
que la soledad era refugio,
aunque por dentro
el alma mendigara un abrazo.

Y entonces llegaste t√∫,
con manos de luz
y mirada que sab√≠a leer
las grietas invisibles en mi piel.
Me ense√±aste que el dolor
no era una casa donde vivir,
sino un puente para cruzar.

No sab√≠a que en tu coraz√≥n
hab√≠a tormentas a√∫n m√°s feroces,
que tus labios,
aunque dibujaban la curva perfecta de una sonrisa,
sosten√≠an silencios
que ard√≠an en la madrugada.

Quise dejar atr√°s mis sombras
para alumbrar las tuyas,
y en ese intento
descubr√≠ que tu reflejo
hab√≠a encendido el m√≠o.
No s√© si fue amor verdadero
o el eco de dos almas rotas
reconoci√©ndose en la penumbra.

Al principio,
mi coraz√≥n temblaba como un ni√±o
ante un fuego nuevo;
lo escond√≠,
porque el miedo susurraba
que un error pod√≠a alejarte.

Hoy, que he domado
la marea de mis emociones,
te digo,
como quien escribe la √∫ltima frase
y empieza un cap√≠tulo eterno:
no apresuremos el reloj
si queremos que dure toda la vida.

Te pido,
no seas solo una p√°gina,
ni un cap√≠tulo en mis memorias;
s√© la tinta y el papel,
s√© la historia completa,
la que se escribe
con los latidos y los silencios,
la que se firma
con un "para siempre"
y se lee
hasta el √∫ltimo suspiro.

¬øTe quedar√≠as?
¬øMe ayudar√≠as a escribir
el final m√°s hermoso
del libro de mi vida?`;

const poemaElemento = document.getElementById("poema");
const cursor = document.querySelector(".cursor");
const typeSound = document.getElementById("type-sound");

let i = 0;

function escribir() {
  if (i < poemaTexto.length) {
    poemaElemento.textContent += poemaTexto.charAt(i);
    if (poemaTexto.charAt(i) !== " " && poemaTexto.charAt(i) !== "\n") {
      typeSound.currentTime = 0;
      typeSound.play();
    }
    i++;
    setTimeout(escribir, 50); // Velocidad escritura
  } else {
    cursor.style.display = "none"; // Oculta el cursor al terminar
  }
}

window.onload = escribir;
</script>
</body>
</html>
